# ============================================================================
# Solana Arbitrage Bot Configuration
# ============================================================================
# Copy this file to .env and fill in your values
# All absolute limits are in USDC for consistency

# ----------------------------------------------------------------------------
# Solana RPC Configuration
# ----------------------------------------------------------------------------
RPC_URL=https://api.mainnet-beta.solana.com
# RPC_URL_WS=wss://api.mainnet-beta.solana.com  # Optional, not currently used - reserved for future WebSocket subscriptions

# ----------------------------------------------------------------------------
# Wallet Configuration
# ----------------------------------------------------------------------------
# Required for 'simulate' and 'live' modes, optional for 'scan' mode
WALLET_PRIVATE_KEY=

# ----------------------------------------------------------------------------
# Jupiter API Configuration
# ----------------------------------------------------------------------------
# Base URL (code automatically handles /v6 or /v1 removal and uses /swap/v1/quote path)
# Leave empty to use fallback mechanism.
# Public endpoints (no auth required): https://quote-api.jup.ag
# Authenticated endpoints (requires API key): https://api.jup.ag
JUPITER_API_URL=
# Optional: Jupiter API key for authenticated requests (enables use of api.jup.ag endpoints)
JUPITER_API_KEY=

# ----------------------------------------------------------------------------
# Risk Management
# ----------------------------------------------------------------------------
# Position size limits
MAX_POSITION_SIZE_PERCENT=50.0  # Maximum position size (% of balance)
MAX_POSITION_SIZE_ABSOLUTE=1.0  # Maximum position size (in SOL, converted to USDC using SOL_PRICE_USDC)

# SOL price for limit conversion (automatically fetched from Jupiter API if available, fallback to this value)
SOL_PRICE_USDC=145.0

# Minimum profit requirements
MIN_PROFIT_USDC=0.03  # PRIMARY: minimum profit in USDC (absolute, always applied)
MIN_PROFIT_BPS=0  # SECONDARY: optional filter in basis points (set to 0 to disable)

# Slippage limits
MAX_SLIPPAGE_BPS=200  # Maximum allowed slippage (risk limit). SLIPPAGE_BPS must be <= this value
SLIPPAGE_BPS=100  # Actual slippage used in Jupiter API requests. Must be <= MAX_SLIPPAGE_BPS

# Position management
MAX_ACTIVE_POSITIONS=1  # Maximum number of simultaneous active positions (pending/executing)

# ----------------------------------------------------------------------------
# Arbitrage Configuration
# ----------------------------------------------------------------------------
# Deprecated: QUOTE_DELAY_SECONDS kept for backward compatibility
# Rate limiting is now handled by JupiterClient with strict 1 req/sec limit
QUOTE_DELAY_SECONDS=1.0

# ----------------------------------------------------------------------------
# Jupiter API Rate Limiting
# ----------------------------------------------------------------------------
# Strict rate limiting: 1 request per second to Jupiter API (applied to all quote/swap requests)
JUPITER_RPS=1.0  # Requests per second (default: 1.0, strict rate limiting)
JUPITER_MAX_RETRIES_ON_429=3  # Maximum retries on 429 rate limit error (default: 3)
JUPITER_BACKOFF_BASE_SECONDS=1.0  # Base backoff time for 429 retries (default: 1.0)
JUPITER_BACKOFF_MAX_SECONDS=30.0  # Maximum backoff time for 429 retries (default: 30.0)

# ----------------------------------------------------------------------------
# Transaction Configuration
# ----------------------------------------------------------------------------
PRIORITY_FEE_LAMPORTS=10000  # Priority fee for transactions (in lamports)
USE_JITO=false  # Use Jito for transaction bundling (requires Jito setup)

# ----------------------------------------------------------------------------
# Diagnostic Mode
# ----------------------------------------------------------------------------
# Set to true to test Jupiter route capability (makes one direct request SOL â†’ USDC with relaxed parameters)
DIAGNOSTIC_MODE=false
DIAGNOSTIC_SLIPPAGE_BPS=500  # Slippage for diagnostic mode (separate from SLIPPAGE_BPS)
DIAGNOSTIC_AMOUNT_SOL=1.0  # Amount for diagnostic request (in SOL, default: 1.0)

# ----------------------------------------------------------------------------
# Logging
# ----------------------------------------------------------------------------
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO
